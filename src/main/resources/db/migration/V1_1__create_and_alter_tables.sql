CREATE TABLE IF NOT EXISTS admin
(
    id       BIGINT GENERATED BY DEFAULT AS IDENTITY NOT NULL,
    username VARCHAR(255),
    password VARCHAR(255),
    CONSTRAINT pk_admin PRIMARY KEY (id)
);

CREATE TABLE IF NOT EXISTS fuel
(
    id   BIGINT GENERATED BY DEFAULT AS IDENTITY NOT NULL,
    name VARCHAR(255),
    CONSTRAINT pk_fuel PRIMARY KEY (id)
);

CREATE TABLE IF NOT EXISTS gas_station
(
    id      BIGINT GENERATED BY DEFAULT AS IDENTITY NOT NULL,
    name    VARCHAR(255),
    address VARCHAR(255),
    CONSTRAINT pk_gasstation PRIMARY KEY (id)
);

CREATE TABLE IF NOT EXISTS gas_station_fuel
(
    id             BIGINT GENERATED BY DEFAULT AS IDENTITY NOT NULL,
    gas_station_id BIGINT,
    fuel_id        BIGINT,
    price          DOUBLE PRECISION,
    CONSTRAINT pk_gasstationfuel PRIMARY KEY (id)
);

ALTER TABLE gas_station_fuel
    DROP CONSTRAINT IF EXISTS FK_GASSTATIONFUEL_ON_FUEL;

ALTER TABLE gas_station_fuel
    ADD CONSTRAINT FK_GASSTATIONFUEL_ON_FUEL FOREIGN KEY (fuel_id) REFERENCES fuel (id);

ALTER TABLE gas_station_fuel
    DROP CONSTRAINT IF EXISTS FK_GASSTATIONFUEL_ON_GAS_STATION;

ALTER TABLE gas_station_fuel
    ADD CONSTRAINT FK_GASSTATIONFUEL_ON_GAS_STATION FOREIGN KEY (gas_station_id) REFERENCES gas_station (id);